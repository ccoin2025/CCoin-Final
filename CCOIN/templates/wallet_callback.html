<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, maximum-scale=1, user-scalable=no">
    <title>Wallet Callback</title>
    <script src="https://unpkg.com/tweetnacl@1.0.3/nacl.min.js"></script>
    <script src="https://unpkg.com/bs58@5.0.0/index.js"></script>
</head>
  <style>
  </style>
<body>
    <div class="container">
        {% if success %}
            <h1>‚úÖ Wallet Connected!</h1>
            <p>Your Phantom wallet has been successfully connected to CCoin.</p>
            {% if wallet_address %}
            <p>{{ wallet_address }}</p>
            {% endif %}
        {% else %}
            <h1>‚ùå Connection Failed</h1>
            <p>There was an issue connecting your wallet.</p>
            {% if error %}
            <p>{{ error }}</p>
            {% endif %}
        {% endif %}

        <button class="btn" onclick="returnToApp()">üöÄ Return to CCoin App</button>
    </div>

    <script>
        function returnToApp() {
            const telegramId = new URLSearchParams(window.location.search).get('telegram_id');
            window.location.href = `https://t.me/yourbot/app?startapp=connected&telegram_id=${telegramId}`;
        }
    </script>
</body>
</html>
