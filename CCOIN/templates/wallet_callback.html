<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="icon" type="image/png" href="/static/images/icon-512x512.png">
    <title>Wallet Callback</title>
    <style>
        /* استایل‌های موجود */
    </style>
    <script src="https://unpkg.com/tweetnacl@1.0.3/nacl.min.js"></script>
    <script src="https://unpkg.com/bs58@5.0.0/index.js"></script>
</head>
<body>
    <div class="container">
        {% if success %}
            <h1>✅ Wallet Connected!</h1>
            <p>Your Phantom wallet has been successfully connected to CCoin.</p>
            {% if wallet_address %}
            <p>{{ wallet_address }}</p>
            {% endif %}
        {% else %}
            <h1>❌ Connection Failed</h1>
            <p>There was an issue connecting your wallet.</p>
            {% if error %}
            <p>{{ error }}</p>
            {% endif %}
        {% endif %}

        <button class="btn" onclick="returnToApp()">🚀 Return to CCoin App</button>
    </div>

    <script>
        function returnToApp() {
            const telegramId = new URLSearchParams(window.location.search).get('telegram_id');
            window.location.href = `https://t.me/yourbot/app?startapp=connected&telegram_id=${telegramId}`;
        }
    </script>
</body>
</html>
